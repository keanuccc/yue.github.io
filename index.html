<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>To æ¨¾æ¨¾: My Exclusive Planet</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&family=Noto+Serif+SC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- å…¨å±€é«˜çº§æ„Ÿé…è‰² --- */
        :root {
            --primary-pink: #eec1cd;
            --deep-pink: #d4a5b0;
            --accent-red: #cc7a8b;
            --cream-bg: #fffbf0;
            --text-main: #5d4e52;
            --text-light: #9c8e92;
            --glass-bg: rgba(255, 255, 255, 0.5);
            --glass-border: 1px solid rgba(255, 255, 255, 0.6);
            --shadow-float: 0 15px 35px rgba(212, 165, 176, 0.15);
        }

        body {
            font-family: 'Nunito', 'Noto Serif SC', serif;
            background-color: var(--cream-bg);
            color: var(--text-main);
            margin: 0; padding: 0; overflow-x: hidden; scroll-behavior: smooth;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤ç§»åŠ¨ç«¯ç‚¹å‡»é«˜äº® */
        }

        h1, h2, h3 { font-family: 'Noto Serif SC', serif; font-weight: 700; color: var(--text-main); letter-spacing: 1.5px; }

        /* æŸ”å…‰æ»¤é•œé®ç½© */
        .section-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,251,240,0.95) 0%, rgba(255,240,245,0.8) 100%);
            z-index: 1; pointer-events: none;
        }

        section {
            min-height: 100vh; padding: 60px 20px; box-sizing: border-box;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative; overflow: hidden;
            background-size: cover; background-position: center;
        }

        .container { max-width: 900px; width: 100%; margin: 0 auto; position: relative; z-index: 5; text-align: center; }

        .circle-img {
            border-radius: 50%; border: 4px solid rgba(255,255,255,0.9);
            box-shadow: var(--shadow-float); object-fit: cover; background: white;
        }

        .float { animation: floatAnim 4s ease-in-out infinite; }
        @keyframes floatAnim { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* --- ç¬¬1å± --- */
        #hero { background: radial-gradient(circle at top right, #fff0f5, #fffbf0); }
        .hero-title { font-size: 2.5rem; margin-bottom: 10px; color: var(--accent-red); line-height: 1.2; }
        .hero-img { width: 240px; height: 240px; margin: 0 auto 30px auto; display: block; }
        .timer-badge { 
            background: white; padding: 15px 30px; border-radius: 50px; 
            border: 1px solid #ffeef0; box-shadow: var(--shadow-float); 
            margin-top: 30px; display: inline-block; width: fit-content;
        }


        /* --- ç¬¬2å±ï¼šç³¯ç±³å›¢å­å·ä¸“åˆ— --- */
        #yue-express {
            background: linear-gradient(to bottom, #fff9fa 0%, #fff0f5 100%);
            overflow: hidden;
        }
        .cloud-track {
            position: absolute; bottom: 10%; left: -50%; width: 200%; height: 150px;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            opacity: 0.6; filter: blur(20px);
            animation: moveClouds 20s linear infinite;
        }
        @keyframes moveClouds { 100% { transform: translateX(50%); } }
        .express-container {
            position: relative; width: 100%; height: 400px; /* ç§»åŠ¨ç«¯é«˜åº¦è°ƒæ•´ */
            display: flex; justify-content: center; align-items: center;
            perspective: 1000px;
            margin-bottom: 20px;
        }
        .train-wrapper {
            position: relative; width: 800px; max-width: 95%; height: auto;
            transform: translateX(-120%);
            animation: trainArrive 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            animation-delay: 0.5s;
        }
        @keyframes trainArrive { 
            0% { transform: translateX(-120%) skewX(-5deg); opacity: 0.5; } 
            80% { transform: translateX(5%) skewX(2deg); opacity: 1; }
            100% { transform: translateX(0) skewX(0); opacity: 1; }
        }
        .train-img { width: 100%; height: auto; display: block; filter: drop-shadow(0 20px 30px rgba(204, 122, 139, 0.2)); }
        
        .carriage-trigger { position: absolute; top: 20%; height: 60%; cursor: pointer; z-index: 10; -webkit-tap-highlight-color: rgba(0,0,0,0); }
        .carriage-trigger::after {
            content: ''; position: absolute; top:0; left:0; width:100%; height:100%;
            background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 70%);
            opacity: 0; transition: opacity 0.3s; border-radius: 20px;
        }
        .carriage-trigger:active::after, .carriage-trigger:hover::after { opacity: 1; }
        #c1 { left: 5%; width: 38%; }
        #c2 { left: 42%; width: 35%; }
        #c3 { left: 72%; width: 35%; }
        
        .cargo-modal {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
            width: 80%; max-width: 300px; background: rgba(255,255,255,0.95);
            border-radius: 30px; padding: 30px 20px; text-align: center;
            box-shadow: 0 25px 50px rgba(204, 122, 139, 0.3);
            border: 3px solid #fff; z-index: 20;
            opacity: 0; transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }
        .cargo-modal.show { transform: translate(-50%, -50%) scale(1); opacity: 1; pointer-events: auto;}
        .cargo-icon { font-size: 3.5rem; margin-bottom: 15px; display: block; animation: floatAnim 3s infinite; }
        .cargo-title { color: var(--accent-red); font-weight: bold; margin-bottom: 10px; font-size: 1.2rem; }
        .cargo-desc { font-size: 0.95rem; color: #666; line-height: 1.5; }
        .modal-close { position: absolute; top: 10px; right: 15px; font-size: 2rem; color: #ccc; cursor: pointer; padding: 5px; }
        
        #final-gift-btn {
            margin-top: 20px; padding: 15px 35px; 
            background: var(--accent-red); color: white; border: none; 
            border-radius: 30px; font-weight: bold; font-size: 1rem;
            box-shadow: 0 10px 20px rgba(204, 122, 139, 0.4);
            cursor: pointer; opacity: 0; transform: translateY(20px); transition: all 0.5s;
            pointer-events: none; display: inline-block;
        }
        #final-gift-btn.show { opacity: 1; transform: translateY(0); pointer-events: auto;}


        /* --- ç¬¬3å±ï¼šæ˜Ÿç³»å¼•åŠ›åœº (é£Ÿç‰©) --- */
        #taste-galaxy {
            background: radial-gradient(circle at center, #fff5f7 0%, #fffbf0 70%);
            overflow: hidden;
        }
        .galaxy-container {
            position: relative; width: 100%; height: 500px; /* ç§»åŠ¨ç«¯é«˜åº¦ä¼˜åŒ– */
            display: flex; justify-content: center; align-items: center;
        }
        .orbit-ring {
            position: absolute; width: 340px; height: 340px; 
            border: 1px dashed rgba(204, 122, 139, 0.15); border-radius: 50%;
            animation: spin 60s linear infinite; z-index: 1; pointer-events: none;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .core-planet { position: relative; width: 180px; height: 180px; z-index: 10; }
        .center-img { 
            width: 100%; height: 100%; border-radius: 50%; object-fit: cover; 
            border: 6px solid white; box-shadow: 0 0 50px rgba(255, 194, 209, 0.5);
            position: relative; z-index: 2; transition: all 0.5s;
        }
        .core-flash {
            position: absolute; top:0; left:0; width:100%; height:100%; border-radius:50%;
            background: white; opacity: 0; z-index: 3; pointer-events: none;
        }
        .crystal {
            position: absolute; width: 60px; height: 60px;
            background: rgba(255,255,255,0.9); border: 1px solid white; border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08); cursor: pointer; z-index: 5; transition: transform 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .crystal span { font-size: 1.5rem; pointer-events: none; }
        .crystal p { font-size: 0.6rem; color: #aaa; margin:0; pointer-events: none; transform: scale(0.9); }
        .crystal:active { transform: scale(0.9); background: #fff0f5; }
        
        .particle {
            position: fixed; width: 12px; height: 12px; border-radius: 50%;
            background: var(--accent-red); box-shadow: 0 0 10px var(--accent-red);
            z-index: 999; pointer-events: none;
        }
        .emotion-feedback { position: absolute; top: 0; left: 0; width: 100%; text-align: center; z-index: 20; }
        .emotion-title { font-size: 1.3rem; color: var(--text-main); margin-bottom: 5px; font-weight: bold;}
        .emotion-sub { font-size: 0.9rem; color: var(--accent-red); opacity: 0; transition: opacity 0.5s; }


        /* --- ç¬¬4å± (åŸç¬¬5å±)ï¼šæœªæ¥ --- */
        #passion { background-image: url('bg_passion.jpg'); }
        #passion .section-overlay { background: linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(227, 242, 253, 0.8) 100%); }
        .run-img { width: 100px; height: 130px; border-radius: 10px; border: 3px solid white; transform: rotate(-3deg); box-shadow: var(--shadow-float); }


        /* --- ç¬¬5å± (çº¯èƒŒæ™¯é“ºå«) --- */
        #confession-intro { 
            background-image: url('bg_confession.jpg'); 
        }
        #confession-intro .section-overlay { 
            background: linear-gradient(to bottom, rgba(255,251,240,0.5) 0%, rgba(0,0,0,0.2) 100%); 
        }

        /* --- ç¬¬6å± (èƒŒæ™¯é‡å¤ï¼Œæ–‡å­—æµ®ç°) --- */
        #confession-main { 
            background-image: url('bg_final.jpg'); 
        }
        #confession-main .section-overlay {
            background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(255,251,240,0.2) 100%); 
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: var(--glass-border); border-radius: 30px; padding: 30px;
            box-shadow: var(--shadow-float); position: relative; display: inline-block; text-align: left;
            max-width: 90%;
        }
        .letter-content { font-size: 1rem; line-height: 1.8; text-align: justify; color: #555; }
        .cat-img { width: 80px; height: 80px; position: absolute; bottom: -25px; right: -15px; }

        #fireworks-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
        .confetti { position: absolute; width: 8px; height: 8px; opacity: 0; }

        /* --- ç§»åŠ¨ç«¯å“åº”å¼é€‚é… (Media Queries) --- */
        @media (max-width: 768px) {
            .hero-title { font-size: 1.8rem; }
            .hero-img { width: 180px; height: 180px; }
            
            .express-container { height: 300px; }
            .train-wrapper { width: 100%; } /* ç«è½¦å®½åº¦å æ»¡å±å¹• */
            
            /* æ˜Ÿç³»éƒ¨åˆ†ï¼šæ ¹æ®å±å¹•ç¼©å°æ˜Ÿçƒå’Œè½¨é“ */
            .orbit-ring { width: 85vw; height: 85vw; max-width: 320px; max-height: 320px; }
            .core-planet { width: 45vw; height: 45vw; max-width: 160px; max-height: 160px; }
            
            /* æœªæ¥éƒ¨åˆ†ï¼šå›¾ç‰‡ç¼©å° */
            .run-img { width: 80px; height: 110px; }
            
            /* ä¿¡ä»¶éƒ¨åˆ† */
            .glass-card { padding: 25px 20px; }
            .cat-img { width: 70px; height: 70px; }
        }
    </style>
</head>
<body>

    <section id="hero">
        <div class="container">
            <img src="img_bear.png" class="circle-img hero-img" alt="å°ç†ŠäºŒ">
            <h1 class="hero-title">ç¥æˆ‘æœ€å¯çˆ±çš„æ¨¾æ¨¾<br>æƒ…äººèŠ‚å¿«ä¹ï¼</h1>
            <p style="letter-spacing: 2px; color: var(--text-light); font-size: 0.9rem;">ç³¯ç±³åŒ…æ±¤åœ†å’Œæˆ‘çš„ç¬¬ä¸€ä¸ªæƒ…äººèŠ‚</p>
            <div class="timer-badge">
                <div style="font-size: 0.8rem; color: #999;">æˆ‘ä»¬å·²ç»ç”œèœœåœ¨çº¿</div>
                <div id="love-timer" style="font-size: 1.2rem; font-weight: 800; color: var(--accent-red); margin-top: 5px;">...</div>
                <div style="font-size: 0.8rem; color: #aaa; margin-top: 5px;">å§‹äº 2026.01.31</div>
            </div>
        </div>
    </section>

    <section id="yue-express">
        <div class="cloud-track"></div>
        <div class="container">
            <h2 style="color: var(--accent-red); margin-bottom: 10px; font-size: 1.5rem;">ğŸš‚ å°ç†ŠäºŒå·Â·ä¸“åˆ—æŠµè¾¾</h2>
            <p style="color: var(--text-light); margin-bottom: 20px; font-size: 0.9rem;" id="train-tips">ç‚¹å‡»è½¦å¢ï¼ŒæŸ¥æ”¶ä¸ºä½ å‡†å¤‡çš„ä¸“å±è´§ç‰© (0/3)</p>

            <div class="express-container">
                <div class="train-wrapper">
                    <img src="img_train.png" class="train-img" alt="å¯çˆ±ä¸“åˆ—">
                    <div class="carriage-trigger" id="c1" onclick="openCarriage(1)"></div>
                    <div class="carriage-trigger" id="c2" onclick="openCarriage(2)"></div>
                    <div class="carriage-trigger" id="c3" onclick="openCarriage(3)"></div>
                </div>
                <div class="cargo-modal" id="cargo-modal">
                    <span class="modal-close" onclick="closeModal()">Ã—</span>
                    <span class="cargo-icon" id="modal-icon">ğŸ</span>
                    <div class="cargo-title" id="modal-title">è´§ç‰©æ ‡é¢˜</div>
                    <div class="cargo-desc" id="modal-desc">è´§ç‰©æè¿°å†…å®¹</div>
                </div>
            </div>
            <button id="final-gift-btn" onclick="startFireworks()">ğŸ¥¤ æ”¶ä¸‹å…¨ç³–çš„æŠ¹èŒ¶å¥¶èŒ¶</button>
        </div>
    </section>

    <section id="taste-galaxy">
        <div class="container">
            <div class="galaxy-container" id="galaxy-area">
                <div class="emotion-feedback">
                    <div class="emotion-title" id="emo-main">ç‚¹äº®å±äºä½ çš„æ˜Ÿç³»</div>
                    <div class="emotion-sub" id="emo-sub" style="opacity: 1;">ç‚¹å‡»æ°´æ™¶ï¼Œæ”¶é›†çˆ±çš„ç¢ç‰‡ (0/3)</div>
                </div>
                <div class="orbit-ring"></div>
                <div class="core-planet float">
                    <div class="core-flash" id="core-flash"></div>
                    <img src="img_center.png" class="center-img" id="center-target" alt="æ ¸å¿ƒæ˜Ÿçƒ">
                </div>
            </div>
        </div>
    </section>

    <section id="passion">
        <div class="section-overlay"></div>
        <div class="container">
            <div class="glass-card" style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap; justify-content: center; text-align: left;">
                <div style="display: flex; gap: 10px; justify-content: center; width: 100%;">
                    <img src="img_run1.jpg" class="run-img" alt="è·‘">
                    <img src="img_run2.jpg" class="run-img" style="transform: rotate(3deg);" alt="è·‘">
                </div>
                <div style="text-align: left; max-width: 100%;">
                    <h2 style="color: #6a8caf; font-size: 1.4rem; margin-top: 10px;">æœªæ¥ï¼Œä¸€èµ·å¥”è·‘</h2>
                    <p style="line-height: 1.6; color: #666; font-size: 0.9rem;">
                        åƒé»‘ç”°æœæ—¥ä¸€æ ·å†²åˆºï¼Œåƒå¤ªç”°è‹ç”Ÿä¸€æ ·çƒ­è¡€ã€‚<br>
                        æˆ‘çŸ¥é“æˆ‘çš„æ¨¾æ¨¾å†…å¿ƒè—ç€å·¨å¤§çš„<strong style="color: var(--accent-red);">ä¸Šè¿›å¿ƒ</strong>ã€‚
                    </p>
                    <p style="font-weight: bold; color: var(--text-main); margin-top: 10px; font-size: 0.9rem;">
                        ä¸ç®¡å‰è·¯å¤šè¿œï¼Œæˆ‘éƒ½åšä½ æœ€åšå®çš„åç›¾ã€‚
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="confession-intro">
        <div class="section-overlay"></div>
        </section>

    <section id="confession-main">
        <div class="section-overlay"></div>
        <div class="container">
            <h2 style="font-size: 1.5rem;">â™“ ç»™åŒé±¼åº§çš„å®è—å¥³å­©æ¨¾æ¨¾</h2>
            <div class="glass-card float">
                <div class="letter-content">
                    <p>äº²çˆ±çš„æ¨¾æ¨¾ï¼š</p>
                    <p>è§å­—å¦‚é¢ã€‚è™½ç„¶æˆ‘ä»¬æ‰åˆšåˆšå¼€å§‹åœ¨ä¸€èµ·ä¸åˆ°åŠä¸ªæœˆï¼Œä½†æˆ‘å¯¹ä½ çš„å–œæ¬¢æ˜¯çœŸçœŸåˆ‡åˆ‡çš„ã€‚ä½ æ´»æ³¼å¯çˆ±ï¼Œæœ‰ä¸Šè¿›å¿ƒï¼Œå¾…äººå‹å–„ï¼Œä¸‰è§‚æ­£ï¼Œå†…å¿ƒæ˜¯ä¸ªéå¸¸å–„è‰¯çš„å°å¥³å­©ï¼</p>
                    <p>é‡è§ä½ çœŸå¥½ã€‚å¸Œæœ›ä½ æ¯å¤©éƒ½è¢«çˆ±ã€ç¾å¥½å’Œå¿«ä¹åŒ…å›´ï¼Œåšä¸€ä¸ªç§¯æå‘ä¸Šçš„å°å…¬ä¸»ã€‚</p>
                    <p>æˆ‘ä¼šä¸€ç›´å®ˆæŠ¤ä½ ã€çˆ±ä½ çš„ï¼</p>
                    <p style="text-align: right; margin-top: 20px; color: var(--accent-red);">â€”â€” çˆ±ä½ çš„ç”·æœ‹å‹ é™ˆå¿—ç€š___</p>
                </div>
                <img src="img_cat.png" class="circle-img cat-img" alt="å°çŒ«">
            </div>
        </div>
    </section>

    <div id="fireworks-container"></div>

    <script>
        // 1. è®¡æ—¶å™¨
        const startDate = new Date('2026-01-31T00:00:00');
        function updateTimer() {
            const now = new Date(); const diff = now - startDate;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
            const seconds = Math.floor((diff % (1000 * 60)) / 1000).toString().padStart(2, '0');
            document.getElementById('love-timer').innerText = `${days}å¤© ${hours}æ—¶ ${minutes}åˆ† ${seconds}ç§’`;
        }
        setInterval(updateTimer, 1000); updateTimer();

        // 2. åˆ—è½¦é€»è¾‘
        const cargoData = {
            1: { icon: 'ğŸ§¸', title: 'å¯çˆ±èƒ½é‡è¡¥ç»™', desc: 'æƒ³è¦ç»™æ¨¾æ¨¾ç»‡æˆ‘äº²æ‰‹åšçš„ç©å¶ï¼Œå®ˆæŠ¤ä½ é‚£æ°¸è¿œçš„å°‘å¥³å¿ƒï¼' },
            2: { icon: 'ğŸ”', title: 'æ»¡è¶³æ„Ÿç‰¹å¿«', desc: 'å¡”æ–¯æ±€ã€ç‚¸æé²è‡å’Œè—•ç²‰å’Œè¾£æ¡ï¼Œæˆ‘æƒ³åŒ…å…»ä½ çš„èƒƒï¼' },
            3: { icon: 'ğŸ’„', title: 'ç¾ä¸½è¡¥ç»™ç«™', desc: 'å£çº¢ï¼Œé¦™æ°´ï¼ŒæŠ¤å‘ç´ ...æƒ³è¦å®ˆæŠ¤æœ€ç²¾è‡´ã€å®³æ€•é•¿ç—˜çš„æ¨¾æ¨¾ï¼' }
        };
        let openedCount = 0; const openedCarriages = new Set();
        const modal = document.getElementById('cargo-modal');
        const mIcon = document.getElementById('modal-icon');
        const mTitle = document.getElementById('modal-title');
        const mDesc = document.getElementById('modal-desc');
        const finalBtn = document.getElementById('final-gift-btn');
        const trainTips = document.getElementById('train-tips');

        function openCarriage(id) {
            const data = cargoData[id];
            mIcon.innerText = data.icon; mTitle.innerText = data.title; mDesc.innerText = data.desc;
            modal.classList.add('show');
            if (!openedCarriages.has(id)) {
                openedCarriages.add(id); openedCount++;
                trainTips.innerText = `ç‚¹å‡»è½¦å¢ï¼ŒæŸ¥æ”¶ä¸ºä½ å‡†å¤‡çš„ä¸“å±è´§ç‰© (${openedCount}/3)`;
                if (openedCount === 3) setTimeout(() => finalBtn.classList.add('show'), 1000);
            }
        }
        function closeModal() { modal.classList.remove('show'); }

        // 3. æ˜Ÿç³»é€»è¾‘ (ç§»åŠ¨ç«¯åŠ¨æ€åŠå¾„è°ƒæ•´)
        const galaxyArea = document.getElementById('galaxy-area');
        const centerTarget = document.getElementById('center-target');
        const coreFlash = document.getElementById('core-flash');
        const emoSub = document.getElementById('emo-sub');
        const foods = [
            { icon: 'ğŸ°', name: 'å°è›‹ç³•', type: 'good', msg: 'ç”œç”œçš„ä½ ' }, { icon: 'ğŸ®', name: 'å«©è›‹ç³•', type: 'good', msg: 'è½¯ç³¯å¦‚ä½ ' },
            { icon: 'ğŸ«', name: 'è“è“', type: 'good', msg: 'æ¸…æ–°çš„çˆ±' }, { icon: 'ğŸ”', name: 'å¡”æ–¯æ±€', type: 'good', msg: 'èƒ½é‡æ»¡æ»¡' },
            { icon: 'ğŸ„', name: 'ç‚¸æé²è‡', type: 'good', msg: 'ç‹¬ç‰¹å£å‘³' }, { icon: 'ğŸ™', name: 'è‚‰æ¾æµ·è‹”', type: 'good', msg: 'ç®€å•å¹¸ç¦' },
            { icon: 'ğŸ¥©', name: 'ç¦é¼è‚‰ç‰‡', type: 'good', msg: 'å®¶ä¹¡çš„å‘³é“' }, { icon: 'ğŸ¥£', name: 'è—•ç²‰', type: 'good', msg: 'æš–æš–çš„' },
            { icon: 'ğŸ¥›', name: 'ç‰›å¥¶', type: 'bad', msg: 'æˆ‘å¸®ä½ æŒ¡æ‰' }, { icon: 'ğŸŒ¿', name: 'é¦™èœ', type: 'bad', msg: 'è‹¦å‘³èµ°å¼€' }
        ];
        
        // æ ¸å¿ƒä¿®æ”¹ï¼šåŠ¨æ€è®¡ç®—åŠå¾„ï¼Œé˜²æ­¢æ‰‹æœºç«¯æº¢å‡º
        const isMobile = window.innerWidth < 768;
        // å¦‚æœæ˜¯æ‰‹æœºï¼ŒåŠå¾„è®¾ä¸ºå±å¹•å®½åº¦çš„ä¸€åŠå‡å»ä¸€äº›è¾¹è·(35%)ï¼Œå¦åˆ™ç”¨å›ºå®š170px
        const baseRadius = isMobile ? Math.min(window.innerWidth, 360) * 0.4 : 170;
        let collectedCount = 0; 

        foods.forEach((item, index) => {
            const el = document.createElement('div'); el.className = 'crystal';
            el.innerHTML = `<span>${item.icon}</span><p>${item.name}</p>`;
            const angle = (index / foods.length) * 2 * Math.PI;
            // å‡å»30pxæ˜¯ä¸ºäº†è®©å…ƒç´ ä¸­å¿ƒå¯¹é½
            el.style.left = `calc(50% + ${Math.cos(angle) * baseRadius}px - 30px)`;
            el.style.top = `calc(50% + ${Math.sin(angle) * baseRadius}px - 30px)`;
            el.style.animation = `float ${3 + Math.random()}s ease-in-out infinite`;
            el.style.animationDelay = `${Math.random()}s`;
            el.onclick = (e) => handleCrystalClick(e, el, item);
            galaxyArea.appendChild(el);
        });

        function handleCrystalClick(e, el, item) {
            if (el.classList.contains('clicked')) return;
            el.classList.add('clicked');
            const rectStart = el.getBoundingClientRect(); const rectEnd = centerTarget.getBoundingClientRect();
            emoSub.innerText = item.msg; emoSub.style.opacity = 1;
            if (item.type === 'good') {
                el.style.opacity = 0; 
                const p = document.createElement('div'); p.className = 'particle';
                p.style.left = rectStart.left + 30 + 'px'; p.style.top = rectStart.top + 30 + 'px';
                document.body.appendChild(p);
                p.animate([
                    { left: (rectStart.left + 30) + 'px', top: (rectStart.top + 30) + 'px', transform: 'scale(1)' },
                    { left: (rectEnd.left + rectEnd.width / 2) + 'px', top: (rectEnd.top + rectEnd.height / 2) + 'px', transform: 'scale(0.5)' }
                ], { duration: 600, easing: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)' }).onfinish = () => {
                    p.remove(); coreFlash.style.opacity = 0.8; setTimeout(() => coreFlash.style.opacity = 0, 300);
                    centerTarget.style.transform = 'scale(1.1)'; setTimeout(() => centerTarget.style.transform = 'scale(1)', 300);
                    collectedCount++; emoSub.innerText = `æ”¶é›†çˆ±çš„ç¢ç‰‡ (${collectedCount}/3)`;
                };
            } else {
                el.style.transition = 'all 0.5s'; el.style.transform = 'scale(1.2)'; el.style.opacity = 0; emoSub.innerText = "ğŸ›¡ï¸ " + item.msg;
            }
        }

        // çƒŸèŠ±é€»è¾‘
        function startFireworks() {
            finalBtn.innerHTML = "ğŸ‰ æƒ…äººèŠ‚å¿«ä¹ï¼"; finalBtn.style.background = "#ffd700";
            const container = document.getElementById('fireworks-container');
            const colors = ['#eec1cd', '#d4a5b0', '#fff'];
            for(let i=0; i<80; i++) {
                const p = document.createElement('div'); p.className = 'confetti';
                p.style.background = colors[Math.floor(Math.random()*colors.length)];
                p.style.left = '50%'; p.style.top = '50%';
                const angle = Math.random() * Math.PI * 2; const dist = 100 + Math.random() * 300;
                p.animate([
                    { transform: 'translate(0,0) scale(1)', opacity: 1 },
                    { transform: `translate(${Math.cos(angle) * dist}px, ${Math.sin(angle) * dist}px) scale(0)`, opacity: 0 }
                ], { duration: 1500 + Math.random()*1000, fill: 'forwards' });
                container.appendChild(p);
            }
        }
    </script>
</body>
</html>